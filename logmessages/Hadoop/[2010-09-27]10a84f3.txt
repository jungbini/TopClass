  HBASE-3039 Stuck in regionsInTransition because rebalance came in at same time as a split  M src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java Add region name to warning log message (w/o it message is no good). M src/main/java/org/apache/hadoop/hbase/master/ServerManager.java Add src of split message else need to deduce where it came from by looking elsewhere. M src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java Updated log messages to include region and where appropritate source server name; debug hard w/o Changed regionOnline and regionOffline to check for unexpected states and log warnings rather than proceed regardless. Added in fix for concurrent balance+split; split message now updates regionsintransition where previous it did not. Remove checkRegion method.  Its a reimplementation of what regionOnline and regionOffline do only less comprehensive regards what gets updated (this.regions + this.servers rather than this.regions, this.servers and regionsInTransition) That they were less comprehensive is root of this bug. M src/main/java/org/apache/hadoop/hbase/master/HMaster.java Make the message about why we are not running balancer richer (print out how many reigons in transition and more of the regionsintrnasition list). M src/main/java/org/apache/hadoop/hbase/executor/RegionTransitionData.java Javadoc and minor formatting.   git-svn-id: https://svn.apache.org/repos/asf/hbase/trunk@1001911 13f79535-47bb-0310-9956-ffa450edef68  