  fix for open() on macosx contributed by chandler  