  fix for #2463 and other todo notes  