  more fixes to sketch, and enforce file name length limit  