  re-adding caretUndoStack.push() and caretRedoStack.clear() calls to fix bug #707  