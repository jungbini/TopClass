  fix comparable signature generation  fix todo by Alex Tkachman 2ec54436c5e7dcc44f0a082c9f05935952c9dbe7  