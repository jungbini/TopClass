  JS backend: refactoring -- prepare to fix KT-2696  