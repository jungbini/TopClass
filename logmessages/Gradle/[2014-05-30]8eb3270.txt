  fixes after porting class to java  