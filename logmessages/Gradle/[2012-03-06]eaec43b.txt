  Support finding the JAVA_HOME when -Djava.home points to a JRE, but there is no ../lib/tools.jar.  This is the case for the standard JVM on my linux distro. The /usr/lib/jvm/java-6-sun/ directory is a JRE, but it has a 'jre' dir inside there. Some tests were failing because this was being picked up as the alternative JVM but at runtime Gradle thought that the java home was the 'jre' dir. This caused the single use daemon test to fail because it was forking a new daemon because the user requested /usr/lib/jvm/java-6-sun/ but Gradle was saying that the current java home is /usr/lib/jvm/java-6-sun/jre.  The more appropriate fix may be fixing the comparison instead of the finding of the current java home.  