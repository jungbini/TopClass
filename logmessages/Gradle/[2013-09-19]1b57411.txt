  REVIEW-3092: moved toSafeFileName method to baseServices - avoids duplicate code in test fixtures - REVIEW-3090 encode # as well - REVIEW-3092 add testcoverage for toSafeFileName  