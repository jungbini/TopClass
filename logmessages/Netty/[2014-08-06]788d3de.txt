  Additional fix for lost first WebSocket frame after handshake  Related issue: #2179  Motivation:  Previous fix e71cbb9308bf8788e1e0fb8db99766d89156386d was not enough.  Modifications:  - Add more test cases for WebSocket handshake - Fix a bug in HttpMessageDecoder where it does not always enter UPGRADED state - Fix incorrect decoder replacement logic in WebSocketClientHandshaker implementations - Add WebSocketClientHandshaker.replaceDecoder() as a helper  Result:  We never lose the first WebSocket frame for all WebSocket protocol versions.  