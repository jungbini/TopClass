  fix more bugs with determining what is assignable and what is not  