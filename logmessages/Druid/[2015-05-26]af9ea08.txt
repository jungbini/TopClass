  fix race described in 1360  review comments  review comments  review comments  no need to remove  fix test  review comments  