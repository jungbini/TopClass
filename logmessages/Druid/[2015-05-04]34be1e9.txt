 fix NPE  review comments  Add test  fix test for java8  