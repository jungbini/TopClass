  bug fixed for issue 504  