  bugfix issue376 & resove conflicts  