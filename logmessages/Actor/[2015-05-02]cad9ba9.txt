  fix(web): use local scope to listen broadcasted events; rename some functions;  