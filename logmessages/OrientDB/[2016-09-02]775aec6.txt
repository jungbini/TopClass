  fixed float detection optimization, issue #6595  