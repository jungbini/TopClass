  Fixed bug on type shifting  