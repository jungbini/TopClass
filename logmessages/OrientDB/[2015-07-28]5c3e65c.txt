  fixed reverse traversal on pattern matching  