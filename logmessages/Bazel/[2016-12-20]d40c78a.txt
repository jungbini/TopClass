but got rolled back due to some test breakage that's long since fixed. In this change I'm slightly modifying the original code in compile.sh.  Using JNI methods however is necessary because we can't implement WindowsFileOperations.GetLongPath in native Java, and having that code is a prerequisite for the fix of https://github.com/bazelbuild/bazel/issues/2145  See also https://github.com/bazelbuild/bazel/issues/2238  -- PiperOrigin-RevId: 142535019 MOS_MIGRATED_REVID=142535019  