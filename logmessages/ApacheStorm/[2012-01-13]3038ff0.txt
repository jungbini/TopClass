  fix concurrency and time simulation problems with timer by taking a much simpler approach  