 Merge pull request #1861 from sjamesr/fix_redeclared_import  fix spurious "redeclared import" warnings  commit c87645550c5c6e2f7d7269696d3ef2da023190bc  fix spurious "redeclared import" warnings  This patch modifies GoUtil.getAllPackagesInDirectory to test for build tags when evaluating whether a file should be scanned for packages.  This also modifies GoFile.hasCPathImport to simply look for 'import "C"' rather than getImportMap. This avoids an infinite recursion (getImportMap depends on getAllPackagesInDirectory).  This fixes the bug identified in https://github.com/go-lang-plugin-org/go-lang-idea-plugin/issues/1858  Read on for a brief description of the bug:  In the Go source distribution, you have situations like  src/runtime/mkduff.go -> package main, // build +ignore src/runtime/trace.go -> package runtime, no build tag  src/strconv/makeisprint.go -> package main, // build +ignore src/strconv/itoa.go -> package strconv, no build tag  In your program, you do  import "runtime" import "strconv" <--- redeclared import error  This is because GoUtil.getImportMap returns  main -> [runtime, strconv] <--- two imports with the same name, spurious "redeclared import" runtime -> [runtime] strconv -> [strconv]  