  Fix assorted type system bugs and crashes. Fixes issue 124 for reals. (nick) R=andrew DELTA=161  (122 added, 9 deleted, 30 changed)  Revision created by MOE tool push_codebase. MOE_MIGRATION=   git-svn-id: https://closure-compiler.googlecode.com/svn/trunk@143 b0f006be-c8cd-11de-a2e8-8d36a3108c74  