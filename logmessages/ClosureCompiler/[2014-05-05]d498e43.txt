  Bugfix for sanity check of changed scopes.  Clone the AST at the beginning of a loopable pass, instead of after the sanity check. This way, if there are two optimization loops, and the non-loopable passes between the loops change the AST, the 1st pass of the 2nd loop doesn't use a stale clone for its sanity check.  Also, don't do the scope-change sanity check for cross-module-code-motion, it's not relevant. ------------- Created by MOE: http://code.google.com/p/moe-java MOE_MIGRATED_REVID=66241818  