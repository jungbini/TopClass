 work on test cases. trying to figure out the sideeffect bug.  