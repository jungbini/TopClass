  fix race condition in docs generation, check curl exit code for errors  Summary:Previously, if curl can't hit the server to get rendered soy pages, it would happily write out curl error code or nothing. Now this checks the exit code so it fails if any curl fails.  Also, soyweb takes time to start up, if soy2html was invoked immediately after starting soyweb, it might fail bue to the server not being ready, so this adds a 5 second polling period for the server to come up.  Test Plan: ./soyweb-prod.sh& ./soy2html.sh ~/buck-gh  Reviewed By: bolinfest  fb-gh-sync-id: 9a98109 fbshipit-source-id: 9a98109  