 tweak the ui, fix unit test  