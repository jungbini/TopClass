  KAFKA-2993: Calculate compression rate at close() call  Buffer is rewound before the compression rate metric is updated which results in 0 compress rate. The fix is to include a new compressRate field to record the latest compression rate in ```close()``` and return it to sensor  Author: Xiao, Tao <taxiao@ebay.com>  Reviewers: Guozhang Wang  Closes #784 from xiaotao183/kafka-2993  