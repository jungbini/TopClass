 Merge branch 'tree-fixes'  commit 45d9439622f536431ec56c2352016dc264b1708e  test fix  