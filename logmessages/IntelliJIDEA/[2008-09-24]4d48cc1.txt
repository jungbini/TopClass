  fixed leaked editors + new test + cleanup  