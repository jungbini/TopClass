  fix side-effect determination bug  