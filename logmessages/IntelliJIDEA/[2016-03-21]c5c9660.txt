  most specific check for proper functional types fixed  