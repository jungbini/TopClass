  deadlock fixed. Do not need LOCK for findFileByPath()  