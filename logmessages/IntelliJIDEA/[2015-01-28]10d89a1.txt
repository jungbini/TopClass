  fix race condition  set pending promise only on clientEvaluated  