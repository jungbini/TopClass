  A bit more accurate race condition fix  