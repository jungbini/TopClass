  bug fixes; do not use composite handler: choose the best prefix for every variable instead  