  [patch]: IDEA-160135 Patch application failed (fix and test)  Fix backward WalkingIterator: if first line of patch hunk context appeared several times in base file then we detected only first one in backward direction, and then did't really 'walk through' the file to detect all other places. We update found index  id with equal value several times. The only one reason why we didn't get an infinite loop was maxWalk limit.  Now: we start detect 'matching line' from start offset(forward direction) and from line 'before start' for backward. Thus all base file should be looked through in a maxWalk range limit  