  fix deadlock caused by lock ordering violation  