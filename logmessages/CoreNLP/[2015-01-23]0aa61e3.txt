  fixed a small bug for perSelectRand  