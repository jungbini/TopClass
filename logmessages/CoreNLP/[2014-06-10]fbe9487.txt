  Fix force decoding in CubePruningDecoder; add SoftPrefixOutputSpace; other re-factoring  